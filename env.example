# ==================================================
# 企业微信智能客服系统 - 配置文件
# ==================================================
# 
# 📖 配置指南：docs/CONFIG_GUIDE.md
# 🚀 快速开始：docs/SETUP.md
#

# --------------------------------------------------
# 应用基础配置
# --------------------------------------------------
APP_NAME=企业微信智能客服系统
# 安全密钥（生成方式：openssl rand -hex 32）
SECRET_KEY=your-secret-key-here-change-in-production
DEBUG=true
LOG_LEVEL=INFO

# --------------------------------------------------
# 数据库配置（必填）
# --------------------------------------------------
# 异步连接（使用 asyncpg 驱动）
DATABASE_URL=postgresql+asyncpg://user:password@localhost:5432/wecom_agent
# 同步连接（使用 psycopg2 驱动）
DATABASE_URL_SYNC=postgresql://user:password@localhost:5432/wecom_agent

# --------------------------------------------------
# 企业微信基础配置（必填）
# --------------------------------------------------
# 企业ID（企业微信后台 → 我的企业 → 企业信息）
WECOM_CORP_ID=your_corp_id
# 应用ID（应用管理 → 自建应用 → 应用详情 → AgentId）
WECOM_AGENT_ID=your_agent_id
# 应用Secret（应用管理 → 自建应用 → 应用详情 → Secret）
WECOM_SECRET=your_secret

# --------------------------------------------------
# 企业微信回调配置（必填）
# --------------------------------------------------
# Token（10-32位字符，可企业微信后台随机生成）
WECOM_TOKEN=your_token
# EncodingAESKey（必须43位！可企业微信后台随机生成）
WECOM_ENCODING_AES_KEY=your_encoding_aes_key

# --------------------------------------------------
# 企业微信客服配置（可选）
# --------------------------------------------------
# ⚠️ 注意：客服账号ID无法直接从后台查看，需要通过API获取
# 
# 获取方式：
#   1. 运行脚本（推荐）：python scripts/get_kf_info.py
#   2. 从回调日志提取：tail -f logs/uvicorn.log | grep OpenKfId
#   3. 手动调用API：见 docs/CONFIG_GUIDE.md
# 
# 如果暂时不使用客服功能，可以留空
WECOM_KF_ACCOUNT_ID=
# 客服应用Secret（企业微信后台 → 微信客服 → 应用Secret）
WECOM_KF_SECRET=

# --------------------------------------------------
# DeepSeek AI 配置（必填）
# --------------------------------------------------
# API密钥（从 https://platform.deepseek.com 获取）
DEEPSEEK_API_KEY=your_deepseek_api_key
DEEPSEEK_BASE_URL=https://api.deepseek.com
DEEPSEEK_MODEL=deepseek-chat

# --------------------------------------------------
# Redis 配置（可选）
# --------------------------------------------------
# 用于缓存和Celery任务队列
REDIS_URL=redis://localhost:6379/0

# --------------------------------------------------
# Celery 配置（可选）
# --------------------------------------------------
# 用于异步任务处理
CELERY_BROKER_URL=redis://localhost:6379/0
CELERY_RESULT_BACKEND=redis://localhost:6379/0

# --------------------------------------------------
# 电商平台配置（可选）
# --------------------------------------------------
# 淘宝联盟配置（用于商品比价功能）
TAOBAO_APP_KEY=
TAOBAO_APP_SECRET=

# --------------------------------------------------
# 服务器配置
# --------------------------------------------------
HOST=0.0.0.0
PORT=8000

# --------------------------------------------------
# CORS 配置
# --------------------------------------------------
CORS_ORIGINS=["*"]

# --------------------------------------------------
# 其他配置
# --------------------------------------------------
TIMEZONE=Asia/Shanghai

# ==================================================
# 配置完成后的操作：
# 
# 1. 验证配置：
#    python -c "from app.config import get_settings; get_settings()"
# 
# 2. 获取客服ID（如需要）：
#    python scripts/get_kf_info.py
# 
# 3. 启动服务：
#    ./scripts/start_services.sh
# 
# 详见文档：docs/CONFIG_GUIDE.md
# ==================================================

